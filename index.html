<!DOCTYPE html>
<html>
<style>
    body {
        margin: 0;
    }

    div.range-container {
        padding: 40px;
    }

    div.range-container input {
        border: none;
        background-color: transparent;
        width: 50px;
        text-align: center;
    }

    .flex-row {
        max-width: 300px;
        display: flex;
        gap: 10px;
        font-size: 22px;
        justify-content: space-between;
        margin-bottom: 8px;
    }

    .flex-row input {
        font-size: 22px;
    }

    .flex-row button {
        font-size: 22px;
        height: 35px;
        width: 35px;
    }
</style>

<body>
    <div class="range-container">
        <h1>Display a Range</h1>
        <div class="flex-row">
            <div>C1</div>
            <input class="range-value" type="text" id="counter1" value="0" min="0" max="100" disabled>
            <div class="percent" id="per1">0%</div>
            <div>
                <button onclick="counter(1, 'increment')">+</button>
                <button onclick="counter(1, 'decrement')">-</button>
            </div>
        </div>
        <div class="flex-row">
            <div>C2</div>
            <input class="range-value" type="text" id="counter2" value="0" min="0" max="100" disabled>
            <div class="percent" id="per2">0%</div>
            <div>
                <button onclick="counter(2, 'increment')">+</button>
                <button onclick="counter(2, 'decrement')">-</button>
            </div>
        </div>
        <div class="flex-row">
            <div>C3</div>
            <input class="range-value" type="text" id="counter3" value="0" min="0" max="100" disabled>
            <div class="percent" id="per2">0%</div>
            <div>
                <button onclick="counter(3, 'increment')">+</button>
                <button onclick="counter(3, 'decrement')">-</button>
            </div>
        </div>
        <div class="flex-row">
            <div>C4</div>
            <input class="range-value" type="text" id="counter4" value="0" min="0" max="100" disabled>
            <div class="percent" id="per2">0%</div>
            <div>
                <button onclick="counter(4, 'increment')">+</button>
                <button onclick="counter(4, 'decrement')">-</button>
            </div>
        </div>
        <div class="flex-row">
            <div>C5</div>
            <input class="range-value" type="text" id="counter5" value="0" min="0" max="100" disabled>
            <div class="percent" id="per2">0%</div>
            <div>
                <button onclick="counter(5, 'increment')">+</button>
                <button onclick="counter(5, 'decrement')">-</button>
            </div>
        </div>
    </div>
    <script>
        let allValEls = document.querySelectorAll('.range-value');
        let allPercentageEls = document.querySelectorAll('.percent');

        function counter(serial, mode) {
            let counterEl = document.getElementById('counter' + serial);
            let value = Number(counterEl.value)
            if (mode === 'increment' && value < 100) {
                document.getElementById('counter' + serial).value = value + 1
            }
            else if (mode === 'decrement' && value > 0) {
                document.getElementById('counter' + serial).value = value - 1
            }
            calPercentage()
        }

        function getTotal() {
            return Array.from(allValEls).map(x => Number(x.value)).reduce((x, total) => total + x, 0) || 1;
        }

        function calPercentage() {
            allPercentageEls.forEach((x, idx) => {
                x.textContent = Math.round(allValEls[idx].value / getTotal() * 100) + '%';
            })
        }

        function handleKeypress(event) {
            event = event || window.event;
            event.preventDefault();

            let buttonsEl = document.querySelectorAll('.range-container button');
            switch (event.key || event.keyCode) {
                case 'F1': buttonsEl[0].click();
                    break;
                case 'F2': buttonsEl[2].click();
                    break;
                case 'F3': buttonsEl[4].click();
                    break;
                case 'F4': buttonsEl[6].click();
                    break;
                case 'F5': buttonsEl[8].click();
                    break;
                case 'F6': buttonsEl[1].click();
                    break;
                case 'F7': buttonsEl[3].click();
                    break;
                case 'F8': buttonsEl[5].click();
                    break;
                case 'F9': buttonsEl[7].click();
                    break;
                case 'F10': buttonsEl[9].click();
                    break;
                default: return;
            }
        }

        document.addEventListener('keydown', handleKeypress)
    </script>

</body>

</html>